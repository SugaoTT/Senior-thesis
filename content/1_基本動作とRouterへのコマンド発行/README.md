# 1_基本動作とRouterへのコマンド発行

本項では、本アプリケーションを用いてネットワーク機器の一つであるRouterの仮想ネットワーク機器を、ネットワークトポロジに追加し、
そのRouterにip routeコマンドを適用することでRouterに対して静的ルーティングの設定を発行する流れについて動画を用いて説明する。

まず初めに、アプリケーション上でRouterをネットワークトポロジにドラッグ&ドロップすることで、仮想ネットワーク機器が生成される。
仮想ネットワーク機器であるRouterはVyOSのコンテナを用いて動作させている。

その後コンソールにCLIが表示されるため設定を発行していく。
この時に、CLIはVyOSのCLIではなく、4項で説明するCiscoCLIライクなCLIを用いてコマンドを入力する。
コマンドを入力した際に、{Router, message, global-config, 33, 192.268.4.0, 255.255.255.0, 192.168.1.2}といった出力がみられるがこちらは開発用に表示しており、実運用の時は表示しない。
詳しくは4項で述べるが、CLIに入力したコマンドのパラメータ部分を自動的に抽出し、動画の0(時):00(分):42(秒)のようなシェルスクリプトを作成する。
そして作成したシェルスクリプトはVyOSのApiを用いることでRouterへ発行される。

動画の0(時):00(分):47(秒)でdocker ps -aコマンドを用いて、サーバ上でコンテナの状態を確認している、画面上で確認できる1つのコンテナは、初めに生成したRouterのコンテナである。
動画の0(時):01(分):10(秒)からの操作では、Routerのコンテナへ入り設定の確認を行っている。動画の0(時):01(分):21(秒)に表示されているコンフィグから静的ルーティングの設定がされていることが確認できる。
動画の0(時):01(分):54(秒)では、動画の0(時):00(分):42(秒)で説明したシェルスクリプトがVyOSのコンテナに正しく配布されているかを確認している。
動画の0(時):01(分):58(秒)の結果より、正しくコマンドが発行されていることが確認できる。
